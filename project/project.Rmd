---
title: "PROJECT TITLE"
author: "Duke Squirrels"
date: "04/19/2018"
output: github_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE)
```

Your project goes here! Before you submit, make sure your chunks are turned off with `echo = FALSE`. 

```{r load-packages, message=FALSE}
library(tidyverse)
library(broom)
```

```{r load-data, message=FALSE}
panth <- read_csv("data/cdatabase.csv",
                  na = c("Unknown", "1237?", "530s"))
```

## Introduction

The data that we obtained contains information regarding historical figures. We downloaded the data from Kaggle, but the data was collected by the Massachusetts Institute of Technology about a year ago. The data is based off of metrics from many wikipedia pages and believe the variables in the dataframe can be used to extrapolate what makes a historical figure "popular" by Wikipedia standards. 

For our write-up, we chose to focus on the variables `full_name`, `birth_year`, `latitude`, `longitude`, `occupation`, `sex`, and `industry`. By the end of our data analysis, we aim to derive the perfect combination of variables that lead to a high popularity index, which is recorded in the dataframe.

### Section 1- Introduction to the Data

### Question 1

#### Filter out NA values and record the number of observations and variables 
#### Make a new dataset to avoid overriding the original dataframe
#### Record how many of the historical figures are men and how many are women

```{r filter_NAs}
panth_mod <- na.omit(panth)

panth_mod %>%
  ncol()

panth_mod %>%
  nrow()
```

There are 17 variables and 10,279 observations (with all NAs removed in the new dataframe). Before removing the NAs, the full dataframe had 11,341 observations.

```{r men-and-women}
panth_mod %>%
  count(domain)
```

Based on the filtered dataframe, there are 1,427 women and 8,852 men that are considered historical figures. 

##### Reference

http://www.dummies.com/programming/r/how-to-remove-rows-with-missing-data-in-r/

### Question 2

#### Create a map showing the concentration of popular historical figures around the world

```{r espana}
panth_mod %>%
  filter(domain %in% c("Sports","Arts"))%>%
  filter(latitude < 44, latitude >35, longitude>-9,longitude<3.5)%>%
  ggplot(panth, mapping = aes(x = longitude, y = latitude, color = domain)) +
  geom_point(alpha = .4)
```

### Question 3

### Section 2 - Mapping

### Question 4

### Question 5

### Question 6

### Section 3 - Linear Modeling

#### Create a linear model to estimate historical popularity index by sex, article languages, & domain

### Question 7

```{r estimating_popularity}
m_pop <- lm(historical_popularity_index ~ sex + domain + article_languages, data = panth_mod)
tidy(m_pop) %>%
  select(term, estimate)
```

The linear model, based on the output, is:

(historical_popularity_index) = 17.769(intercept) + 1.647(sexMale) + 0.295(domainBusiness & Law) + 0.810(domainExploration) + 1.752(domainHumanities) + 1.151(domaintInstitutions) + 1.106(domainPublic Figure) + 1.029(domainScience & Technology) - 4.1446(domainSports) + 0.072(article_languages)

### Question 9

## Conclusion
